# Created by Danny Tsang <danny@tsang.uk>
# Integration: https://github.com/iMicknl/ha-nest-protect
automation:
  - id: "1646778676345"
    alias: "Living Room: Cabon Monoxide Detected"
    description: ""
    trigger:
      - platform: state
        entity_id: binary_sensor.nest_protect_lounge_co_status
        to: "on"
    condition: []
    action:
      - parallel:
          - service: script.send_direct_notification
            data:
              message: ":skull_and_crossbones: Carbon Monide detected on the lounge."
              title: ":skull_and_crossbones: CO Detected on the lounge"
          - service: script.set_central_heating_to_off
            data: {}
          - service: script.set_hot_water_to_home_mode
            data: {}
    mode: single
  - id: "1646778927330"
    alias: "Living Room: Smoked Detected"
    description: ""
    trigger:
      - platform: state
        entity_id: binary_sensor.nest_protect_lounge_smoke_status
        to: "on"
    condition: []
    action:
      - parallel:
          - service: script.send_direct_notification
            data:
              message: ":smoking: Smoke detected on the lounge."
              title: ":smoking: Smoke detected on the lounge"
          - service: script.set_central_heating_to_off
            data: {}
          - service: script.set_hot_water_to_home_mode
            data: {}
    mode: single
  - id: "1646778627153"
    alias: "Office: Carbon Monoxide Detected"
    description: ""
    trigger:
      - platform: state
        entity_id: binary_sensor.nest_protect_office_co_status
        to: "on"
    condition: []
    action:
      - parallel:
          - service: script.send_direct_notification
            data:
              title: ":skull_and_crossbones: CO Detected in the office"
              message: ":skull_and_crossbones: Carbon Monide detected in the :office: office."
          - service: script.set_central_heating_to_off
            data: {}
          - service: script.set_hot_water_to_home_mode
            data: {}
    mode: single
  - id: "1646778909669"
    alias: "Office: Smoked Detected"
    description: ""
    trigger:
      - platform: state
        entity_id: binary_sensor.nest_protect_office_smoke_status
        to: "on"
    condition: []
    action:
      - parallel:
          - service: script.send_direct_notification
            data:
              title: ":smoking: Smoke detected in the office"
              message: ":smoking: Smoke detected in the :office: office."
          - service: script.set_central_heating_to_off
            data: {}
          - service: script.set_hot_water_to_home_mode
            data: {}
    mode: single
  - id: "1646778676344"
    alias: "Stairs: Cabon Monoxide Detected"
    description: ""
    trigger:
      - platform: state
        entity_id: binary_sensor.nest_protect_upstairs_co_status
        to: "on"
    condition: []
    action:
      - parallel:
          - service: script.send_direct_notification
            data:
              title: ":skull_and_crossbones: CO Detected on the stairs"
              message: ":skull_and_crossbones: Carbon Monide detected on the stairs."
          - service: script.set_central_heating_to_off
            data: {}
          - service: script.set_hot_water_to_home_mode
            data: {}
    mode: single
  - id: "1646778927329"
    alias: "Stairs: Smoked Detected"
    description: ""
    trigger:
      - platform: state
        entity_id: binary_sensor.nest_protect_upstairs_smoke_status
        to: "on"
    condition: []
    action:
      - parallel:
          - service: script.send_direct_notification
            data:
              title: ":smoking: Smoke detected on the stairs"
              message: ":smoking: Smoke detected on the stairs."
          - service: script.set_central_heating_to_off
            data: {}
          - service: script.set_hot_water_to_home_mode
            data: {}
    mode: single
