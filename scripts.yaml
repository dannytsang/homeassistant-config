morning_script:
  alias: Morning Script
  sequence:
    - data: {}
      entity_id: input_boolean.enable_morning_routine
      service: input_boolean.turn_off
    - service: script.post_to_home_log
      data:
        message:
          ":paw_prints: :sunrise: Motion detected in the Lounge in the morning.
          Running morning routine."
    - service: alarm_control_panel.alarm_disarm
      target:
        entity_id: alarm_control_panel.stevenage_alarm
    - service: script.post_to_home_log
      data:
        message: ":no_bell: Turning alarm off."
    - service: script.morning_script_turn_on_magic_mirror
      data: {}
    - service: switch.turn_off
      target:
        entity_id: group.indoor_cameras
    - service: script.post_to_home_log
      data:
        message: ":clock9: :sunrise: Morning routine complete."
  mode: single
everybody_leave_home:
  alias: Everybody Leave Home
  sequence:
    - data:
        message:
          ":running: :house: :dancer: Everyone has left the house. Running the
          following:"
      service: script.post_to_home_log
    - service: script.turn_everything_off
  mode: single
test:
  alias: Test
  sequence:
    - service: light.turn_on
      data:
        color_name: cyan
        flash: short
        brightness: 255
      target:
        entity_id: light.office_light
  mode: single
post_direct_message_to_danny:
  alias: Post Direct Message to Danny
  sequence:
    - condition: state
      entity_id: input_boolean.enable_mobile_direct_notifications
      state: "on"
    - service: notify.mobile_app_dannys_phone
      data:
        message: "{{ message }}"
        title: "{{ title|default('', true) }}"
  mode: single
police_effect:
  alias: Police Effect
  sequence:
    - repeat:
        count: "10"
        sequence:
          - service: scene.turn_on
            target:
              entity_id:
                - scene.landing_set_light_to_blue
                - scene.landing_set_light_to_red
    - service: scene.turn_on
      target:
        entity_id: scene.landing_dim_light
    - service: scene.turn_on
      target:
        entity_id: scene.stairs_light_off
  mode: single
front_door_open_notification:
  alias: Front Door Open Notification
  sequence:
    - service: scene.create
      data:
        scene_id: current_stairs_light
        snapshot_entities:
          - light.stairs
    - service: scene.create
      data:
        scene_id: current_stairs_light2
        snapshot_entities:
          - light.stairs_2
    - service: scene.create
      data:
        scene_id: current_office_light_1
        snapshot_entities:
          - light.office_light
    - service: scene.turn_on
      target:
        entity_id:
          - scene.front_door_open_notification
  mode: single
  icon: mdi:door-open
front_garden_motion_notification:
  alias: Front Garden Motion Notification
  sequence:
    - repeat:
        count: "4"
        sequence:
          - service: scene.turn_on
            target:
              entity_id: scene.office_front_garden_motion_notification
          - delay:
              hours: 0
              minutes: 0
              seconds: 1
              milliseconds: 0
          - service: scene.turn_on
            target:
              entity_id: scene.office_turn_off_light_notification
  mode: single
front_door_closed_notification:
  alias: Front Door Closed Notification
  sequence:
    - service: scene.turn_on
      target:
        entity_id:
          - scene.current_office_light_1
          - scene.current_stairs_light
          - scene.current_stairs_light2
  mode: single
  icon: mdi:door
bathroom_flash_light:
  alias: Bathroom Flash Light
  sequence:
    - repeat:
        count: "2"
        sequence:
          - service: light.turn_on
            data:
              brightness_pct: 100
            entity_id: light.bathroom_light
          - service: light.turn_off
            data: {}
            entity_id: light.bathroom_light
  mode: single
porch_override_notification:
  alias: Porch Override Notification
  sequence:
    - repeat:
        count: "2"
        sequence:
          - service: light.turn_on
            data:
              brightness: 255
              color_name: blue
            entity_id: light.porch
          - service: light.turn_on
            data:
              brightness: 178
              color_name: white
            entity_id: light.porch
    - service: scene.turn_on
      target:
        entity_id: scene.porch_light_on
  mode: single
bedroom_leos_door_opened_notification:
  alias: Bedroom Leo's Door Opened Notification
  sequence:
    - repeat:
        count: "2"
        sequence:
          - service: light.turn_on
            data:
              color_name: blue
            target:
              entity_id:
                - light.bedroom_left_lamp
                - light.bedroom_right_lamp
          - service: light.turn_off
            target:
              entity_id:
                - light.bedroom_left_lamp
                - light.bedroom_right_lamp
    - service: scene.turn_on
      target:
        entity_id: scene.bedroom_desk_lamps_on
  mode: single
bedroom_ashlees_door_opened_notification:
  alias: Bedroom Ashlee's Door Opened Notification
  sequence:
    - repeat:
        count: "2"
        sequence:
          - service: light.turn_on
            data:
              color_name: pink
            target:
              entity_id:
                - light.bedroom_left_lamp
                - light.bedroom_right_lamp
          - service: light.turn_off
            target:
              entity_id:
                - light.bedroom_left_lamp
                - light.bedroom_right_lamp
    - service: scene.turn_on
      target:
        entity_id: scene.bedroom_desk_lamps_on
  mode: single
counter_strike_bomb_planted:
  alias: Counter Strike Bomb Planted
  sequence:
    - repeat:
        until:
          - condition: or
            conditions:
              - condition: state
                entity_id: group.jd_computer
                state: "off"
        sequence:
          - service: light.turn_on
            data:
              color_name: red
              brightness_pct: 100
            target:
              entity_id: light.office_light
          - delay:
              hours: 0
              minutes: 0
              seconds: 1
              milliseconds: 0
          - service: light.turn_off
            target:
              entity_id: light.office_light
  mode: single
echo_text_to_speech:
  alias: Echo Text To Speech
  sequence:
    - service: notify.alexa_media
      data:
        target: media_player.office
        message: testing
        data:
          type: tts
  mode: queued
  max: 10
office_turn_off_backup_drive:
  alias: Office Turn Off Backup Drive
  sequence:
    - condition: and
      conditions:
        - condition: state
          entity_id: switch.external_hdd
          state: "on"
        - condition: state
          entity_id: group.jd_computer
          state: not_home
    - service: script.post_to_home_log
      data:
        message: ":floppy_disk: Turning off external HDD"
    - service: switch.turn_off
      target:
        entity_id: switch.external_hdd
  mode: single
office_turn_on_external_hard_drive:
  alias: Office Turn On External Hard Drive
  sequence:
    - condition: and
      conditions:
        - condition: state
          entity_id: switch.external_hdd
          state: "off"
        - condition: time
          weekday:
            - sun
    - service: script.post_to_home_log
      data:
        message: ":floppy_disk: Turned on external hard drive."
    - service: switch.turn_on
      target:
        entity_id: switch.external_hdd
  mode: single
post_rich_notification:
  alias: Post Rich Notification
  sequence:
    - service: notify.slack_notify
      data:
        message: test
        title: test title
        target: "#home_log"
        data:
          attachments:
            - color: "#36a64f"
              pretext: Optional text that appears above the attachment block
              title: Slack API Documentation
              title_link: https://api.slack.com/
              text: Optional text that appears within the attachment
              fields:
                - title: Priority
                  value: High
                  short: false
  mode: single
  icon: mdi:slack
post_actionable_notification_with_2_buttons:
  alias: Post Actionable Notification With 2 Buttons
  fields:
    message:
      description: Message to post
      required: true
    title:
      description: (optional)Header to the message posted.
    action1_title:
      description: First action text.
      required: true
    action1_name:
      description: First vent name if action is selected.
      required: true
    action2_title:
      description: Second action text.
      required: true
    action2_name:
      description: Second event name if action is selected.
      required: true
  sequence:
    - condition: state
      entity_id: input_boolean.enable_mobile_direct_notifications
      state: "on"
    - service: notify.mobile_app_dannys_phone
      data:
        message: "{{ message }}"
        title: "{{ title|default('', true) }}"
        data:
          actions:
            - title: "{{ action1_title }}"
              action: "{{ action1_name }}"
            - title: "{{ action2_title }}"
              action: "{{ action2_name }}"
  mode: queued
  max: 10
  icon: mdi:cellphone
post_actionable_notification_with_3_buttons:
  alias: Post Actionable Notification With 3 Buttons
  fields:
    message:
      description: Message to post
      required: true
    title:
      description: (optional)Header to the message posted.
    action1_title:
      description: First action text.
    action1_name:
      description: First vent name if action is selected.
      required: true
    action2_title:
      description: Second action text.
      required: true
    action2_name:
      description: Second event name if action is selected.
      required: true
    action3_title:
      description: Third action text.
      required: true
    action3_name:
      description: Third event name if action is selected.
      required: true
  sequence:
    - condition: state
      entity_id: input_boolean.enable_mobile_direct_notifications
      state: "on"
    - service: notify.mobile_app_dannys_phone
      data:
        message: "{{ message }}"
        title: "{{ title|default('', true) }}"
        data:
          actions:
            - title: "{{ action1_title }}"
              action: "{{ action1_name }}"
            - title: "{{ action2_title }}"
              action: "{{ action2_name }}"
            - title: "{{ action3_title }}"
              action: "{{ action3_name }}"
  mode: single
  icon: mdi:cellphone
front_garden_turn_off_camera:
  alias: Front Garden Turn Off Camera
  sequence:
    - service: switch.turn_off
      target:
        entity_id:
          - switch.driveway_camera_detect
          - switch.driveway_camera_snapshots
  mode: single
  icon: mdi:cctv
front_garden_turn_on_camera:
  alias: Front Garden Turn On Camera
  sequence:
    - service: switch.turn_on
      target:
        entity_id:
          - switch.driveway_camera_detect
          - switch.driveway_camera_snapshots
  mode: single
  icon: mdi:cctv
lounge_flash_lounge_lights_green:
  alias: "Lounge: Flash Lounge Lights Green"
  sequence:
    - service: scene.create
      data:
        scene_id: current_lounge_lights
        snapshot_entities:
          - light.lounge_left_lamp
          - light.lounge_right_lamp
    - service: scene.turn_on
      target:
        entity_id: scene.lounge_lights_green
      data:
        transition: 0
    - delay:
        hours: 0
        minutes: 0
        seconds: 0
        milliseconds: 500
    - service: scene.turn_on
      target:
        entity_id: scene.current_lounge_lights
  mode: single
  icon: mdi:lamp
lounge_flash_lounge_lights_red:
  alias: "Lounge: Flash Lounge Lights Red"
  sequence:
    - service: scene.create
      data:
        scene_id: current_lounge_lights
        snapshot_entities:
          - light.lounge_left_lamp
          - light.lounge_right_lamp
    - service: scene.turn_on
      target:
        entity_id: scene.lounge_lights_red
      data:
        transition: 0
    - delay:
        hours: 0
        minutes: 0
        seconds: 0
        milliseconds: 500
    - service: scene.turn_on
      target:
        entity_id: scene.current_lounge_lights
  mode: single
  icon: mdi:lamp
nfc_front_door:
  alias: NFC Front Door
  sequence:
    - choose:
        - conditions:
            - condition: not
              conditions:
                - condition: state
                  entity_id: alarm_control_panel.stevenage_alarm
                  state: disarmed
          sequence:
            - service: script.post_to_home_log
              data:
                message: ":no_bell: Turning off alarm."
            - service: alarm_control_panel.alarm_disarm
              target:
                entity_id: alarm_control_panel.stevenage_alarm
            - service: script.lounge_flash_lounge_lights_green
      default:
        - service: script.post_to_home_log
          data:
            message: ":no_bell: Alarm is not on so nothing to do."
        - service: script.lounge_flash_lounge_lights_red
  mode: single
  icon: mdi:nfc
turn_everything_off:
  alias: Turn Everything Off
  sequence:
    - data:
        message: ":mirror: Turning off Magic Mirror."
      service: script.post_to_home_log
    - service: switch.turn_off
      target:
        entity_id: switch.magic_mirror_screen
    - service: script.post_to_home_log
      data:
        message: ":bulb: Turning off office lights."
    - service: scene.turn_on
      target:
        entity_id: scene.office_all_lights_off
    - service: script.post_to_home_log
      data:
        message: ":bulb: Turning off office, bedroom fans."
    - service: switch.turn_off
      target:
        entity_id:
          - switch.office_fan
          - switch.fan_3
    - service: script.post_to_home_log
      data:
        message: ":bulb: Turning off kitchen lights."
    - service: scene.turn_on
      target:
        entity_id:
          - scene.kitchen_all_lights_off
    - service: script.post_to_home_log
      data:
        message: ":bulb: Turning off lounge lights."
    - service: scene.turn_on
      target:
        entity_id: scene.lounge_lights_off
    - service: script.post_to_home_log
      data:
        message: ":running: :house: :bulb: Turning off conservatory light."
    - service: scene.turn_on
      target:
        entity_id: scene.conservatory_turn_off_light
    - service: script.post_to_home_log
      data:
        message: ":bulb: Turning off stairs light."
    - service: scene.turn_on
      target:
        entity_id:
          - scene.stairs_light_off
          - scene.stairs_light_2_off
    - service: script.post_to_home_log
      data:
        message: ":bulb: Turning off porch light."
    - service: scene.turn_on
      target:
        entity_id: scene.porch_lights_off
    - service: script.post_to_home_log
      data:
        message: ":bulb: Turning off bathroom light."
    - service: scene.turn_on
      target:
        entity_id: scene.bathroom_turn_off_light
  mode: single
nfc_bedroom_right:
  alias: NFC Bedroom Right
  sequence:
    - service: script.post_to_home_log
      data:
        message: Turning everything off.
    - service: script.turn_everything_off
  mode: single
  icon: mdi:nfc
lounge_select_vcr_dvr_input:
  sequence:
    - service: script.post_to_home_log
      data:
        message: Changing Onkyo to VCR/DVR input.
    - delay:
        hours: 0
        minutes: 0
        seconds: 5
        milliseconds: 0
    - service: remote.send_command
      target:
        entity_id: remote.living_room
      data:
        device: Onkyo AV Receiver
        command: InputVCR/DVR
    - service: script.post_to_home_log
      data:
        message: Changed Onkyo to VCR/DVR input.
  mode: single
  alias: Lounge Reciever Select VCR/DVR Input
  icon: mdi:audio-video
