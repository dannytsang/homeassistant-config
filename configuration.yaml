# Created by Danny Tsang <danny@tsang.uk>
# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:
homeassistant:
  customize: !include customize.yaml
  # https://github.com/BeardedTinker/Home-Assistant_Config/issues/21
  allowlist_external_dirs: !include allowed_external_dirs.yaml
  allowlist_external_urls: !include allowed_external_urls.yaml
  media_dirs:
    recording: !secret camera_folder
  packages: !include_dir_named packages/

# Text to speech
tts:
  - platform: google_translate

automation ui: !include automations.yaml
automation manual: !include_dir_merge_list automations/
binary_sensor: !include binary_sensor.yaml
counter: !include counter.yaml

input_text: !include input_text.yaml
notify: !include notify.yaml
scene: !include scenes.yaml
# https://community.home-assistant.io/t/script-editor-and-split-up-files/40459/29?u=tuxinator94
script ui: !include scripts.yaml
script manual: !include_dir_merge_named scripts/
sensor: !include sensor.yaml
sensor manual: !include_dir_merge_list sensors/
timer: !include timer.yaml

cloud:
color_extractor:
conversation:
# https://github.com/chomupashchuk/delete-file-home-assistant
delete:
discovery:
ffmpeg:
prometheus:
  namespace: hass
media_player:
system_health:
wake_on_lan:

#logger:
#default: info
#logs:
#  homeassistant.components.logger: debug

recorder:
  db_url: !secret recorderdb

frontend:
  themes: !include_dir_merge_named themes

calendar:
  - platform: todoist
    token: !secret todoist
    custom_projects:
      - name: "Costco"
        include_projects:
          - Costco
      - name: "Groceries"
        include_projects:
          - Groceries

downloader:
  download_dir: !secret camera_folder

http:
  use_x_forwarded_for: true
  trusted_proxies:
    - !secret trusted_proxy1

ifttt:
  key: !secret ifttt

lifx:
  light:
    - broadcast: !secret lifx_bathroom_ip
    - broadcast: !secret lifx_leos_bedroom_ip
    - broadcast: !secret lifx_lounge_left_ip
    - broadcast: !secret lifx_lounge_right_ip
    - broadcast: !secret lifx_office_1_ip
    - broadcast: !secret lifx_office_2_ip
    - broadcast: !secret lifx_office_3_ip
    - broadcast: !secret lifx_office_4_ip
    - broadcast: !secret lifx_porch_ip
    - broadcast: !secret lifx_stairs_ip

sonoff:
  username: !secret sonoff_username
  password: !secret sonoff_password

telegram_bot:
  - platform: polling
    api_key: !secret telegram_key
    allowed_chat_ids:
      - !secret telegram_danny_chat_id
