# Created by Danny Tsang <danny@tsang.uk>
{%- macro calculate_charge_battery_amount(forecast_kwh) -%}
{%- if forecast_kwh|float(0) < 5 -%}
100
{%- elif forecast_kwh|float(0) >= 5
and forecast_kwh|float(0) < 8.25 -%}
85
{%- elif forecast_kwh|float(0) >= 8.25
and forecast_kwh|float(0) < 11.5 -%}
70
{%- elif forecast_kwh|float(0) >= 11.5
and forecast_kwh|float(0) < 13 -%}
65
{%- elif forecast_kwh|float(0) >= 13
and forecast_kwh|float(0) < 15 -%}
50
{%- elif forecast_kwh|float(0) >= 15
and forecast_kwh|float(0) < 17 -%}
45
{%- elif forecast_kwh|float(0) >= 17
and forecast_kwh|float(0) < 18 -%}
40
{%- elif forecast_kwh|float(0) >= 18 -%}
23
{%- endif -%}
{%- endmacro -%}
